<!-- Начало HTML блока для Тильды -->
<style>
  /* Базовые стили — можно подправить под ваш бренд */
  .elite-grid { display: grid; grid-template-columns: repeat(auto-fill,minmax(240px,1fr)); gap:18px; margin:24px 0; }
  .elite-card { border:1px solid #eee; border-radius:12px; padding:16px; background:#fff; box-shadow:0 6px 18px rgba(0,0,0,0.04); display:flex; flex-direction:column; }
  .elite-thumb { height:180px; border-radius:8px; background-size:cover; background-position:center; margin-bottom:12px; }
  .elite-title { font-weight:600; font-size:16px; margin-bottom:6px; }
  .elite-article { color:#666; font-size:12px; margin-bottom:8px; }
  .elite-price { font-weight:700; font-size:18px; margin-top:auto; }
  .elite-availability { font-size:13px; margin-bottom:8px; }
  .elite-actions { display:flex; gap:8px; margin-top:12px; }
  .btn { padding:10px 12px; border-radius:8px; border:none; cursor:pointer; font-weight:600; }
  .btn-primary { background:#222; color:#fff; }
  .btn-ghost { background:transparent; border:1px solid #ccc; }
  /* modal */
  .elite-modal-backdrop { position:fixed; inset:0; background:rgba(0,0,0,0.5); display:none; align-items:center; justify-content:center; z-index:9999; }
  .elite-modal { background:#fff; border-radius:10px; padding:20px; max-width:900px; width:94%; max-height:90vh; overflow:auto; }
  .elite-modal .meta { display:flex; gap:18px; flex-wrap:wrap; }
  .elite-modal .meta .img { width:320px; height:420px; background-size:cover; background-position:center; border-radius:8px; }
  .elite-modal .meta .info { flex:1; }
  .close-x { float:right; cursor:pointer; font-size:20px; color:#666; }
  @media(max-width:720px){ .elite-modal .meta { flex-direction:column; } .elite-modal .meta .img { width:100%; height:280px; } }
</style>

<div class="elite-section">
  <h2>Каталог премиум-книг</h2>
  <div class="elite-grid" id="eliteGrid">
    <!-- Карточки будут вставлены скриптом -->
  </div>
</div>

<!-- Модальное окно товара -->
<div class="elite-modal-backdrop" id="eliteModal">
  <div class="elite-modal" role="dialog" aria-modal="true">
    <div class="close-x" id="modalClose">✕</div>
    <div class="meta">
      <div class="img" id="modalImg" style="background-image:url('');"></div>
      <div class="info">
        <h3 id="modalTitle"></h3>
        <div class="elite-article" id="modalArticle"></div>
        <div id="modalDesc">Описание товара, материалы, размеры и т.д.</div>
        <div class="elite-price" id="modalPrice"></div>
        <div style="margin-top:12px;">
          <!-- Замените action на вашу форму Тильды или используйте ссылку на оформление/телефон -->
          <form id="quickOrderForm" action="#TILDA_FORM_ACTION" method="post">
            <input type="hidden" name="product" id="formProduct">
            <input type="hidden" name="price" id="formPrice">
            <input type="text" name="name" placeholder="Ваше имя" required style="padding:8px;margin:6px 0;width:100%;box-sizing:border-box;">
            <input type="tel" name="phone" placeholder="Телефон" required style="padding:8px;margin:6px 0;width:100%;box-sizing:border-box;">
            <div style="display:flex;gap:8px;">
              <button class="btn btn-primary" type="submit">Купить в 1 клик</button>
              <button class="btn btn-ghost" type="button" id="btnCloseModal">Закрыть</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  // Пример данных (берём реальные названия и цены как в каталоге Elite Book)
  const products = [
    {id:581, title:'Книга \"Трубки\"', article:'581(з)', price:'19 140 руб.', available:true, img:'https://via.placeholder.com/400x600?text=Трубки'},
    {id:466, title:'Пиковая Дама', article:'466(з)', price:'15 875 руб.', available:false, img:'https://via.placeholder.com/400x600?text=Пиковая+Дама'},
    {id:528, title:'Наполеон. Политическая и военная жизнь', article:'528(гр)', price:'23 635 руб.', available:true, img:'https://via.placeholder.com/400x600?text=Наполеон'},
    {id:497, title:'Искусство войны — Сунь-Цзы', article:'497(з)', price:'23 635 руб.', available:true, img:'https://via.placeholder.com/400x600?text=Искусство+войны'},
    {id:561, title:'Русская рыбалка', article:'561(зн)', price:'24 360 руб.', available:true, img:'https://via.placeholder.com/400x600?text=Русская+рыбалка'},
    {id:606, title:'ВИСКИ. Атлас мира. Дейв Брум', article:'606(зн)', price:'27 840 руб.', available:true, img:'https://via.placeholder.com/400x600?text=Виски+Атлас'},
    {id:57, title:'48 законов власти', article:'57', price:'19 720 руб.', available:true, img:'https://via.placeholder.com/400x600?text=48+зaконов+власти'},
    {id:650, title:'The BOOK. Как создать цивилизацию заново', article:'650(з)', price:'28 710 руб.', available:true, img:'https://via.placeholder.com/400x600?text=The+BOOK'}
  ];

  function renderGrid(){
    const grid = document.getElementById('eliteGrid');
    grid.innerHTML = '';
    products.forEach(p=>{
      const card = document.createElement('div');
      card.className = 'elite-card';
      card.innerHTML = `
        <div class="elite-thumb" style="background-image:url('${p.img}')"></div>
        <div class="elite-title">${p.title}</div>
        <div class="elite-article">Артикул: ${p.article}</div>
        <div class="elite-availability">${p.available ? 'В наличии' : 'Нет в наличии'}</div>
        <div class="elite-price">${p.price}</div>
        <div class="elite-actions">
          <button class="btn btn-primary" data-id="${p.id}" onclick="openModal(${p.id})">Купить в 1 клик</button>
          <button class="btn btn-ghost" data-id="${p.id}" onclick="openModal(${p.id})">Подробнее</button>
        </div>
      `;
      grid.appendChild(card);
    });
  }

  function openModal(id){
    const p = products.find(x=>x.id===id);
    if(!p) return;
    document.getElementById('modalImg').style.backgroundImage = `url('${p.img}')`;
    document.getElementById('modalTitle').textContent = p.title;
    document.getElementById('modalArticle').textContent = 'Артикул: ' + p.article;
    document.getElementById('modalDesc').textContent = 'Материал: натуральная кожа. Переплёт — ручная работа. Возможна персонализация, тиснение, подарочная упаковка.';
    document.getElementById('modalPrice').textContent = p.price + (p.available ? '' : ' (нет в наличии)');
    document.getElementById('formProduct').value = p.title + ' — ' + p.article;
    document.getElementById('formPrice').value = p.price;
    document.getElementById('eliteModal').style.display = 'flex';
    window.scrollTo(0,0);
  }

  document.getElementById('modalClose').onclick = ()=> document.getElementById('eliteModal').style.display = 'none';
  document.getElementById('btnCloseModal').onclick = ()=> document.getElementById('eliteModal').style.display = 'none';

  // Инициализация
  renderGrid();

  // Для Тильды: вы можете перехватить отправку формы и заменить на отправку в TildaForms, Zapier или ваш CRM
  document.getElementById('quickOrderForm').addEventListener('submit', function(e){
    // Если хотите — выполните AJAX отправку в Tilda / CRM / Google Sheets
    // Здесь мы оставляем стандартное поведение (или замените на свой обработчик)
    // e.preventDefault();
    // alert('Форма отправлена (здесь можно подключить Tilda form action)');
  });
</script>
<!-- Конец HTML блока для Тильды -->
